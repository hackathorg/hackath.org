<div layout="column" flex class="HackathorgProfile" ng-controller="HackathorgProfileController">
  <md-content layout="column" layout-padding flex>
  {{viewself}}
    <div layout-wrap layout="row" layout-align="space-around start" layout-padding>
      <div flex-gt-md="33" flex-md="33" flex-xs="100" flex-sm="100">
        <md-card>
          <md-card-title>
            <md-card-title-text  style="padding-right:32px">
              <span class="md-headline">{{user.name}}</span>
              <span class="md-subhead"><i class="p-icon material-icons">visibility</i> {{user.username}}</span>
              <p>{{user.bio}}</p>
              <span class="md-subhead">{{user.tags}}</span>
            </md-card-title-text>
            <md-card-title-media style="margin-top:0px;margin-right:8px;">
              <div style="background-color:gray;" class="md-media-lg card-media"></div>
            </md-card-title-media>
          </md-card-title>
          <md-divider></md-divider>
          <div layout-wrap layout="row" layout-align="space-around start" layout-padding>
          <md-card-content flex=100>
            <p>Profile overview </p>
          </md-card-content>
          </md-card-content>
          <md-card-content flex=50>
            <p><i class="p-icon material-icons">work</i> 2 Events Mentored</p>
            <p><i class="p-icon material-icons">event</i> 5 Events Hosted</p>
            <p><i class="p-icon material-icons">event_seat</i> 5 Events Attended</p>
          </md-card-content>
          <md-card-content flex=50>
            <p><i class="p-icon material-icons">favorite</i> 15 Followers</p>
            <p><i class="p-icon material-icons">star</i> 2 Prizes Won</p>
          </div>
          <md-divider></md-divider>
          <md-card-content>
            <p><i class="p-icon material-icons">place</i> Location</p>
            <p><i class="p-icon material-icons">public</i> Website</p>
          </md-card-content>
        </md-card>
      </div>
      <div layout-wrap layout="row" layout-align="space-around start" flex-gt-md="66" flex-md="66" flex-xs="100" flex-sm="100">
        <div style="margin:8px;" flex="100">
          <md-nav-bar md-selected-nav-item="selectedTab" nav-bar-aria-label="navigation links">
            <md-nav-item md-nav-click="changeTab('default')" name="default">
              Overview
            </md-nav-item>
            <md-nav-item ng-if="viewself" md-nav-click="changeTab('applications')" name="applications">
              Applications
            </md-nav-item>
            <md-nav-item md-nav-click="changeTab('follows')" name="follows">
              Follows
            </md-nav-item>
            <md-nav-item md-nav-click="changeTab('resume')" name="adv">
              Resume
            </md-nav-item>
            <md-nav-item ng-if="viewself" md-nav-click="changeTab('settings')" name="settings">
              Settings
            </md-nav-item>
            <span flex></span>
            <md-button ng-if="!viewself" md-nav-click="follow(u_id)" name="follow">
              Follow
            </md-button>
            <md-button ng-if="!viewself" md-nav-click="unfollow(u_id)" name="unfollow">
              Unfollow
            </md-button>
          </md-nav-bar>
        </div>

        <!-- <overview> -->

        <div ng-if="selectedTab === 'default'" flex-gt-md="66" flex-md="50" flex-xs="100" flex-sm="100">
          <md-card ng-if="viewself">
            <md-card-title style="padding:24px 16px 10px">
              <md-card-title-text layout-wrap layout="row" layout-align="space-around start">
                <span flex=66 class="md-title">Your events</span>
                <md-input-container style="padding:0px;margin:0px" flex=33 class="md-block">
                  <md-select ng-model="eventtype">
                    <md-option ng-repeat="type in eventtypes" value="{{type.type}}">
                      {{type.type}}
                    </md-option>
                  </md-select>
                </md-input-container>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item class="md-3-line" ng-click="null">
              <img ng-src="{{application.face}}?{{$index}}" class="md-avatar" alt="{{application.name}}" />
              <div class="md-list-item-text" layout="column">
                <h3>WarwickHACK</h3>
                <h4>Mentor</h4>
                <p>https://www.warwickhack.com/</p>
              </div>
              <div class="md-list-item-text" layout="column">
                <h4> Date here </h4>
              </div>
              <md-button>view</md-button>
            </md-list-item>          
          </md-card>
        </div>
        <div ng-if="selectedTab === 'default'" flex-gt-md="33" flex-md="50" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">Prizes won</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item class="md-3-line" ng-click="null">
              <img ng-src="{{application.face}}?{{$index}}" class="md-avatar" alt="{{application.name}}" />
              <div class="md-list-item-text" layout="column">
                <h3>WarwickHACK</h3>
                <h4>Bloomberg API prize</h4>
                <p>https://www.warwickhack.com/</p>
              </div>
            </md-list-item>
          </md-card>
        </div>
        <div ng-if="selectedTab === 'settings'" flex-gt-md="50" flex-md="50" flex-xs="100" flex-sm="100">
          <form name="profileUpdate" layout="row" layout-align="space-around start" layout-wrap ng-submit="submit()">
            <md-card ng-if="viewself">
              <md-card-title>
                <md-card-title-text>
                  <span class="md-title">Your profile</span>
                </md-card-title-text>
              </md-card-title>
              <md-divider></md-divider>
<!--
name: {
    type: String,
    required: true,
    get: escapeProperty
  },
  email: {
    type: String,
    required: true,
    unique: true,
    // Regexp to validate emails with more strict rules as added in tests/users.js which also conforms mostly with RFC2822 guide lines
    match: [/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/, 'Please enter a valid email'],
    validate: [validateUniqueEmail, 'E-mail address is already in-use']
  },
  username: {
    type: String,
    unique: true,
    required: true,
    get: escapeProperty
  },
  roles: {
    type: Array,
    default: ['authenticated', 'anonymous']
  },
  hashed_password: {
    type: String,
    validate: [validatePresenceOf, 'Password cannot be blank']
  },
  provider: {
    type: String,
    default: 'local'
  },
  salt: String,
  phoneNumber: {
    type: String
  },
  gender: {
    type: String
  },
  shirtsize: {
    type: String
  },
  dietary: {
    type: String
  },
  study: {
    type: String
  },
  school: {
    type: String
  },
  major: {
    type: String
  },
  special: {
    type: String
  },
  -->
              <div style="padding:16px" layout-wrap layout="row" layout-align="space-around start" flex>
                <md-input-container style="margin-bottom:0px;" flex=100 class="md-block">
                  <label>Full name</label>
                  <input required type="text" ng-model="user.name">
                </md-input-container>
                <md-input-container style="margin-bottom:0px;" flex="100" class="md-block">
                  <label>Profile bio here</label>
                  <textarea ng-model="user.bio" md-maxlength="140" rows="2" md-select-on-focus></textarea>
                </md-input-container>
                <md-input-container style="margin-bottom:0px;" flex=100 class="md-block">
                  <label>Profile tags</label>
                  <input type="text" ng-model="user.tags">
                </md-input-container>
                <md-input-container style="margin-bottom:0px;" flex=100 class="md-block">
                  <label>Location {not implemented}</label>
                  <input type="text" ng-model="user.location">
                </md-input-container>
                <md-input-container style="margin-bottom:0px;" flex=100 class="md-block">
                  <label>Website</label>
                  <input type="text" ng-model="user.website">
                </md-input-container>
              </div>
              <md-card-actions layout="row" layout-align="end center">
                <md-button class="md-primary" ng-click="submit()">Update</md-button>
              </md-card-actions>
            </md-card>
          </form>
        </div>
        <div ng-if="selectedTab === 'settings'" flex-gt-md="50" flex-md="50" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">Your privacy settings</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item>
              <p><i class="p-icon material-icons">visibility</i> Public profile</p>
              <md-switch class="md-secondary" ng-model="setting.public"></md-switch>
            </md-list-item>
            <md-list-item ng-if="setting.public">
              <p><i class="p-icon material-icons">visibility</i> Share resume</p>
              <md-switch class="md-secondary" ng-model="setting.enabled"></md-switch>
            </md-list-item>
            <md-list-item ng-if="setting.public">
              <p><i class="p-icon material-icons">star</i> Share prizes</p>
              <md-switch class="md-secondary" ng-model="setting.enabled"></md-switch>
            </md-list-item>
            <md-list-item ng-if="setting.public">
              <p><i class="p-icon material-icons">event_seat</i> Share attendance</p>
              <md-switch class="md-secondary" ng-model="setting.enabled"></md-switch>
            </md-list-item>
          </md-card>
          <md-card ng-if="viewself">
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">Data sharing</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item class="md-3-line" ng-click="null">
              <img ng-src="{{application.face}}?{{$index}}" class="md-avatar" alt="{{application.name}}" />
              <div class="md-list-item-text" layout="column">
                <h3>WarwickHACK</h3>
                <h4>Mentor</h4>
                <p class="md-subhead">https://www.warwickhack.com/</p>
              </div>
              <div style="padding-top:8px;padding-bottom: 8px" class="md-list-item-text" layout="column">
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
                <h4> - T-Shirt size </h4>
              </div>
              <md-button>view</md-button>
            </md-list-item>          
          </md-card>
        </div>
        <!-- </overview> -->

        <!--<div ng-if="selectedTab === 'default'" flex-gt-md="30" flex-md="50" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">Notifications</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item ng-click="goToPerson()" class="noright">
              <i style="padding-right:10px;" class="p-icon material-icons">favorite</i>
              <p> 5 new followers!</p>
            </md-list-item>
            <md-list-item ng-click="goToPerson()" class="noright">
              <i style="padding-right:10px;" class="p-icon material-icons">event</i>
              <p> WarwickHACKB updated!</p>
            </md-list-item>
            <md-list-item ng-click="goToPerson()" class="noright">
              <i style="padding-right:10px;" class="p-icon material-icons">event</i>
              <p> WarwickHACKB cancelled!</p>
            </md-list-item>
          </md-card>
        </div>-->

        <!-- <follows> -->
        <div ng-if="selectedTab === 'follows'" flex-gt-md="50" flex-md="50" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">Following ({{user.following.length}})</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item ng-repeat="person in user.following" class="noright" aria-label="/profile/{{person.id}}" ui-sref="profile username({username: person.id})" mean-token="person.id">
              <img alt="{{ person.name }}" ng-src="{{ person.img }}" class="md-avatar" />
              <p>{{ person.id }}</p>
              <md-button>unfollow</md-button>
            </md-list-item>
          </md-card>
        </div>
        <div ng-if="selectedTab === 'follows'" flex-gt-md="50" flex-md="50" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">Followers ({{user.followers.length}})</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item ng-repeat="person in user.followers" ng-click="goToPerson(person.name, $event)" class="noright">
              <img alt="{{ person.name }}" ng-src="{{ person.img }}" class="md-avatar" />
              <p>{{ person.id }}</p>
              <md-button ng-if="isFollowing(person.id)">unfollow</md-button>
              <md-button ng-if="!isFollowing(person.id)">follow</md-button>
            </md-list-item>
          </md-card>
        </div>

        <!-- </follows> -->

        <!-- <applications> -->

        <div ng-if="selectedTab === 'applications' && viewself" flex-gt-md="66" flex-md="100" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">My applications ({{user.following.length}})</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item class="md-3-line" ng-click="null">
              <img ng-src="{{application.face}}?{{$index}}" class="md-avatar" alt="{{application.name}}" />
              <div class="md-list-item-text" layout="column">
                <h3>WarwickHACK</h3>
                <h4>Mentor</h4>
                <p>Rejected</p>
              </div>
              <md-button ng-if="!isFollowing(person.id)">View details</md-button>
              <md-button ng-if="!isFollowing(person.id)">Dismiss</md-button>
            </md-list-item>
          </md-card>
      </div>
        <div ng-if="selectedTab === 'applications' && viewself" flex-gt-md="33" flex-md="100" flex-xs="100" flex-sm="100">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-title">My events ({{user.following.length}})</span>
              </md-card-title-text>
            </md-card-title>
            <md-divider></md-divider>
            <md-list-item class="md-3-line" ng-click="null">
              <img ng-src="{{application.face}}?{{$index}}" class="md-avatar" alt="{{application.name}}" />
              <div class="md-list-item-text" layout="column">
                <h3>WarwickHACK</h3>
                <h4>Mentor</h4>
                <p>James Mahoney</p>
              </div>
              <md-button ng-if="!isFollowing(person.id)">View</md-button>
            </md-list-item>
          </md-card>
      </div>

      <!-- </applications> -->

    </div>
  </md-content>
</div>