<div layout="column" flex class="HackathorgHosted" ng-controller="HackathorgHostedController">
  <md-content layout="column" layout-padding flex>
    <div layout-wrap layout="row" layout-align="space-around start" layout-padding>
    <!-- Menu on the left-->
      <div flex-gt-md="25" flex-md="33" flex-xs="100" flex-sm="100">
        <md-card>
          <md-card-title>
            <md-card-title-text>
              <span class="md-headline">Event Management</span>
            </md-card-title-text>
          </md-card-title>

<!--         <md-card flex style="max-width:600px;" ng-repeat="event in filteredEvents = (events | filter:filterEvents | orderBy:bestMatch)">
          <img ng-src="{{event.image}}" class="md-card-image" alt="user avatar">
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">{{event.title}}</span>
                <span class="md-subhead">{{event.organisation}}</span>
              </md-card-title-text>
              <md-card-title-media>
                <div class="md-media-sm card-media"></div>
              </md-card-title-media>
            </md-card-title>
            <md-card-actions layout="row" layout-align="end center">
              <md-button ng-href="{{event.url}}" target="_blank">More Info</md-button>
            </md-card-actions>
        </md-card> -->
        <md-list style="padding-bottom:0px;">
        <md-divider></md-divider>
          <md-list-item class="md-3-line" ng-click="setSelected(null)" ng-class="{selected: null === idSelectedEvent}">
            <div class="md-list-item-text">
              <span class="md-headline">Management dashboard</span>
            </div>
            <md-divider></md-divider>
          </md-list-item>
          <md-list-item  ng-click="setSelected(cevent._id)" ng-class="{selected: cevent._id === idSelectedEvent}" class="md-3-line" ng-repeat="cevent in events">
            <div class="md-list-item-text">
              <span class="md-headline">{{cevent.title}}</span>
              <h4>{{cevent.organisation}}</h4>
            </div>
            <!--<md-button class="md-secondary">Open</md-button>-->
            <md-divider></md-divider>
          </md-list-item>
          <md-list-item class="md-3-line" ng-click="setSelected('create')" ng-class="{selected: 'create' === idSelectedEvent}">
            <div class="md-list-item-text">
              <span class="md-headline">+ Create an event</span>
            </div>
            <!--<md-button class="md-secondary">Create</md-button>-->
          </md-list-item>
        </md-list>
        </md-card>
      </div>

      <!-- Updating event -->

      <div layout-wrap layout="row" layout-align="space-around start" flex-gt-md="75" flex-md="66" flex-xs="100" flex-sm="100">
        <div ng-if="!('create' === idSelectedEvent || null === idSelectedEvent)" flex="50">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Event information</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>
              <div>
                <md-card-title class="md-title">
                  Event Discovery
                </md-card-title>
                <md-card-content>
                  <button class="md-button">PUBLIC</button>
                  <button class="md-button">PRIVATE</button>
                  <p>The event is currently public. The event can be found on the discovery service.</p>
                  <p>The event is currently private. The event can't be found on the discovery service.</p>
                </md-card-content>
              </div>
              <div>
                <md-card-title class="md-title">
                  Event Status
                </md-card-title>
                <md-card-content>
                  <p>Current event state (before, during, after)</p>
                  <p>Is the event public?</p>
                  <p>Mentors, Attendees, Sponsors</p>
                  <p>The event can be managed from within the web application.</p>
                </md-card-content>
              </div>
            </md-card-content>
          </md-card>
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Notify attendees</span>
              </md-card-title-text>
            </md-card-title>
            <form name="contactform" ng-submit="contact()">
              <md-card-content>
                <md-card-content style="padding-bottom:0px;">
                  <md-checkbox md-no-ink aria-label="attendee"  ng-model="contact.attendee" class="md-primary">
                    Attendees
                  </md-checkbox>
                  <md-checkbox md-no-ink aria-label="attendee"  ng-model="contact.mentors" class="md-primary">
                    Mentors
                  </md-checkbox>
                  <md-checkbox md-no-ink aria-label="attendee"  ng-model="contact.organisers" class="md-primary">
                    Organisers
                  </md-checkbox>
                  <md-checkbox md-no-ink aria-label="attendee"  ng-model="contact.sponsors" class="md-primary">
                    Sponsors
                  </md-checkbox>
                  <md-input-container flex="100" class="md-block">
                    <label>Contact information here</label>
                    <textarea required ng-model="contact.information" md-maxlength="500" rows="3" md-select-on-focus></textarea>
                  </md-input-container>
                </md-card-content>
              </md-card-content>
              <md-card-actions layout="row" layout-align="end center">
                <md-button class="md-raised md-primary">Send notification</md-button>
              </md-card-actions>
            </form>
          </md-card>
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Sponsor and Mentor applications</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>
              <p>Display applications</p>
              <md-list flex>
                <md-subheader class="md-no-sticky">Mentor Applications</md-subheader>
                <div style="height:200px;overflow-y:scroll;">
                <md-list-item class="md-3-line" ng-repeat="item in hackages" ng-click="null">
                  <img ng-src="{{item.face}}?{{$index}}" class="md-avatar" alt="{{item.who}}" />
                  <div class="md-list-item-text" layout="column">
                    <h3>{{ item.who }}</h3>
                    <h4>{{ item.what }}</h4>
                    <p>{{ item.notes }}</p>
                  </div>
                </md-list-item>
                </div>
              </md-list>
              <md-list flex>
                <md-subheader class="md-no-sticky">Mentor Applications</md-subheader>
                <div style="height:200px;overflow-y:scroll;">
                <md-list-item class="md-3-line" ng-repeat="item in hackages" ng-click="null">
                  <img ng-src="{{item.face}}?{{$index}}" class="md-avatar" alt="{{item.who}}" />
                  <div class="md-list-item-text" layout="column">
                    <h3>{{ item.who }}</h3>
                    <h4>{{ item.what }}</h4>
                    <p>{{ item.notes }}</p>
                  </div>
                </md-list-item>
                </div>
              </md-list>
              <p>Allow responding to applications</p>
            </md-card-content>
          </md-card>
        </div>

        <div ng-if="!('create' === idSelectedEvent || null === idSelectedEvent)" flex="50">
          <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Web application</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>
            <div layout="row" layout-align="space-around start" layout-wrap>
              <div ng-if="!heroku.authenticated" flex="100">
                <md-card>
                  <md-card-title>
                  Heroku setup
                  </md-card-title>
                  <md-card-content>
                    <p>This event has no Heroku account associated with it. </p>
                    <p>We use Heroku for deploying your event web application - its free to sign up!</p>
                  </md-card-content>
                  <md-card-actions layout="row" layout-align="end center">
                    <md-button class="md-raised md-primary">Login with Heroku</md-button>
                  </md-card-actions>
                </md-card>
              </div>
              <div ng-if="heroku.authenticated" flex="100">
                <div>
                  <md-card-title class="md-title">
                    Web application status
                  </md-card-title>
                  <md-card-content>
                    <p>Online</p>
                    <p>Information about the web application here, statistics, views, any issues</p>
                  </md-card-content>
                </div>
              </div>
              <div ng-if="heroku.authenticated" flex="50" flex-md="100" flex-sm="100" flex-xs="100">
                <md-card>
                  <md-card-title  class="md-title">
                    Heroku Status
                  </md-card-title>
                  <md-card-content>
                    <p>The server status is ONLINE</p>
                    <p>Everything is working fine! </p>
                    <p>Information here</p>
                  </md-card-content>
                </md-card>
                <md-card>
                  <md-card-title  class="md-title">
                    Heroku Configuration
                  </md-card-title>
                  <md-card-content>
                    <p>This event has been set up with a Heroku. </p>
                  </md-card-content>
                  <md-card-actions layout="row" layout-align="end center">
                    <md-button ng-click="herokuAuth()" class="md-raised md-primary">Heroku Dashboard</md-button>
                  </md-card-actions>
                </md-card>
              </div>
              <div ng-if="heroku.authenticated" flex="50" flex-md="100" flex-sm="100" flex-xs="100">
                <md-list>
                  <md-subheader class="md-no-sticky">Installed Modules</md-subheader>
                  <md-list-item ng-repeat="hackage in hackages">
                    <md-checkbox ng-checked="checkPackage(hackage.id)" ng-click="updateBuildStatus(hackage.id)"></md-checkbox>
                    <p>{{hackage.name}}</p>
                    <md-icon class="md-secondary" ng-click="hackageInformation($event, hackage.id)" aria-label="Chat">help_outline</md-icon>
                  </md-list-item>
                </md-list>
              </div>
              </div>
            </md-card-content>
            <md-card-actions ng-if="heroku.authenticated" layout="row" layout-align="end center">
              <md-button class="md-primary" ng-if="heroku.req_rebuild">Rebuild</md-button>
              <md-button ng-if="!heroku.req_rebuild">Restart</md-button>
              <md-button class="md-warn">Shutdown</md-button>
            </md-card-actions>
          </md-card>
        </div>
        <form ng-if="('create' === idSelectedEvent || !(null === idSelectedEvent))" name="eventsform" layout="row" layout-align="space-around start" layout-wrap ng-submit="submit()" novalidate>
          <md-card flex="100">
            <md-card-title>
              <md-card-title-text ng-if="!('create' === idSelectedEvent || null === idSelectedEvent)">
                <span class="md-headline">Update Event</span>
                <span class="md-subhead">Caution: Updating a public event will inform </span>
              </md-card-title-text>
              <md-card-title-text ng-if="('create' === idSelectedEvent)">
                <span class="md-headline">Event details</span>
                <span class="md-subhead"> </span>
              </md-card-title-text>
            </md-card-title>
            <div layout-wrap layout="row" layout-align="space-around start" style="padding-left:20px;padding-right:20px;" flex>
              <div flex-gt-sm="100" flex-xs="100" flex-md="100" flex-sm="100">
                <div layout-wrap layout="row" layout-align="space-around start" flex>
                  <md-input-container flex-gt-sm="50" flex-xs="100" flex-md="50" flex-sm="50" class="md-block">
                    <label>Event name</label>
                    <input required ng-model="event.title">
                  </md-input-container>
                  <md-input-container flex-gt-sm="50" flex-xs="100" flex-md="50" flex-sm="50" class="md-block">
                    <label>Organiser teamname</label>
                    <input required ng-model="event.organisation">
                  </md-input-container>
                  <md-input-container flex="100" class="md-block">
                    <label>Description</label>
                    <textarea required ng-model="event.description" md-maxlength="200" rows="4" md-select-on-focus></textarea>
                  </md-input-container>
                  <div flex="50">
                    Start date
                    <br>
                    <md-datepicker ng-model="startDate" md-min-date="minDate" md-placeholder="Enter date"></md-datepicker>
                  </div>
                  <div flex="50">
                    End date
                    <br>
                    <md-datepicker ng-model="endDate" md-min-date="startDate" md-placeholder="Enter date"></md-datepicker>
                  </div>
                  <div flex="100" style="padding-top: 20px;">
                  </div>
                  <md-input-container flex-gt-sm="50" flex-xs="100" flex-sm="100" >
                    <label>Attendees</label>
                    <input required type="number" step="any" name="rate" ng-model="event.maxAttendees" min="0"
                           max="1000" />
                  </md-input-container>
                <md-input-container flex-gt-sm="50" flex-xs="100" flex-sm="100" >
                  <label>Skill level</label>
                  <md-select ng-model="event.skillLevel">
                    <md-option ng-repeat="skill in skills" value="{{skill.type}}">
                      {{skill.type}}
                    </md-option>
                  </md-select>
                </md-input-container>
                  <md-input-container flex-gt-sm="50" flex-xs="100" flex-sm="100" >
                    <label>Mentors</label>
                    <input required type="number" step="any" name="rate" ng-model="event.maxMentors" min="0"
                           max="100" />
                  </md-input-container>
                  <md-input-container style="padding-left: 60px;" flex-gt-sm="50" flex-xs="100" flex-sm="100"  >
                    <md-checkbox md-no-ink aria-label="sponsor" ng-model="event.sponsors" class="md-primary">
                      Allow sponsorship?
                    </md-checkbox>
                  </md-input-container>
                </div>
              </div>
            </div>
          </md-card>
          <div flex="50">
            <md-card>
                <md-card-title>
                  <md-card-title-text>
                    <span class="md-headline">Organising Team</span>
                    <span class="md-subhead">Add additional organisers</span>
                  </md-card-title-text>
                </md-card-title>
                <div layout-wrap layout="row" layout-align="space-around start" style="padding-top:10px;padding-left:20px;padding-right:20px;padding-bottom: 20px;" flex>
                <div flex="100">
                  <md-chips ng-model="event.hosts" md-removable="data.removable" md-enable-chip-edit="true" placeholder="Enter emails" secondary-placeholder="+ add more"></md-chips>
                </div>
                </div>
            </md-card>
          </div>
          <div flex="50">
            <md-card>
                <md-card-title>
                  <md-card-title-text>
                    <span class="md-headline">Event tags</span>
                    <span class="md-subhead">What makes your event unique</span>
                  </md-card-title-text>
                </md-card-title>
                <div layout-wrap layout="row" layout-align="space-around start" style="padding-top:10px;padding-left:20px;padding-right:20px;padding-bottom: 20px;" flex>
                <div flex="100">
                  <md-chips ng-model="event.tags"  md-removable="data.removable" md-enable-chip-edit="true" placeholder="Enter emails" secondary-placeholder="+ add more"></md-chips>
                </div>
                </div>
            </md-card>
          </div>
          <div flex="50">
            <md-card>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">Event discovery image</span>
                  <span class="md-subhead">600x400</span>
                  <span class="md-subhead">File upload and selection here</span>
                </md-card-title-text>
                <md-card-title-media>
                  <div class="card-media placeholder"></div>
                </md-card-title-media>
              </md-card-title>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">Event logo</span>
                  <span class="md-subhead">100x100</span>
                  <span class="md-subhead">File upload and selection here</span>
                </md-card-title-text>
                <md-card-title-media>
                  <div class="card-media placeholder"></div>
                </md-card-title-media>
              </md-card-title>
            </md-card>
          </div>
          <div flex="50">
            <md-card>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">Location</span>
                  <span class="md-subhead">Google maps api location selection here</span>
                </md-card-title-text>
                <md-card-title-media>
                  <div class="card-media placeholder"></div>
                </md-card-title-media>
              </md-card-title>
            </md-card>
          </div>
          <!-- if already created event -->
          <md-card flex="50" ng-if="!('create' === idSelectedEvent || null === idSelectedEvent)">
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Update Event</span>
                <span class="md-subhead md-warn">Caution: This will permenantly update this event and all associated information.</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-actions layout="row" layout-align="end center">
              <md-button ng-click="submit()" ng-disabled="eventsform.$dirty && eventsform.$invalid" class="md-warn">Update</md-button>
            </md-card-actions>
          </md-card>
          <md-card flex="50" ng-if="!('create' === idSelectedEvent || null === idSelectedEvent)">
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Remove Event</span>
                <span class="md-subhead md-warn">Caution: This will permenantly delete this event and all associated information.</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-actions layout="row" layout-align="end center">
              <md-button ng-disabled="true" class="md-warn">Delete</md-button>
            </md-card-actions>
          </md-card>

          <div flex="50">
            <!-- if create event -->
            <md-card ng-if="'create' === idSelectedEvent">
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">Create Event</span>
                  <span class="md-subhead md-warn">Caution: This will permenantly create this event and all associated information.</span>
                </md-card-title-text>
              </md-card-title>
              <md-card-actions layout="row" layout-align="end center">
                <md-button class="md-raised md-primary" type="submit" ng-disabled="eventsform.$dirty && eventsform.$invalid">Create</md-button>
              </md-card-actions>
            </md-card>
          </div>
        </form>
      </div>
    </div>
  </md-content>
</div>